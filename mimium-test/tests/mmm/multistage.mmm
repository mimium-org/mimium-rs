fn genpower(n:float){
    letrec aux = |n:float,x| {
        if (n>1){
            `( $x * $(aux(n-1,x)) )
        }else{
            x
        }
    }
    `(|x:float| $(aux(n,`x)))
}

// you can't write like $(genpower(3))(2) because of the precedence of dollar sign.
fn dsp(){
  2 |> $(genpower(3))
}